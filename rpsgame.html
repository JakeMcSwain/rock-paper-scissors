<!DOCTYPE html>
<html>
<head>
  <title>Rock Paper Scissors</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <script>
    // Setting the score
    let playerScore = 0
    let computerScore = 0
    
    // Function to allow the computer to choose
    function computerPlay(){
        var computerChoice = [ "rock", "paper", "scissors"];
        return computerChoice[Math.floor(Math.random() * computerChoice.length)];
    };

    // Function to Play a Round
    function playRound(playerSelection, computerSelection) {
       if (playerSelection === 'rock'){
         if(computerSelection === 'scissors'){
          return "You Win! " + String(playerSelection.toUpperCase()) + " beats " + String(computerSelection.toUpperCase()) 
                  + ". Your Score: " + ++playerScore + ". " + "Computer Score: " + computerScore;
         } 
         if (computerSelection === 'paper'){
           return "You Lose! " + String(computerSelection.toUpperCase()) + " beats " + String(playerSelection.toUpperCase())
                   + ". Your Score: " + playerScore + ". " + "Computer Score: " + ++computerScore + ".";
         }
         else {
           return "You both chose " + computerSelection + ". It's a Tie! " + "Your Score: " + playerScore + ". " + "Computer Score: " + computerScore + ".";
         }
       }
       
       else if (playerSelection === 'paper'){
        if(computerSelection === 'rock'){
          return "You Win! " + String(playerSelection.toUpperCase()) + " beats " + String(computerSelection.toUpperCase()) 
                  + ". Your Score: " + ++playerScore + ". " + "Computer Score: " + computerScore;
         } 
         if (computerSelection === 'scissors'){
           return "You Lose! " + String(computerSelection.toUpperCase()) + " beats " + String(playerSelection.toUpperCase())
                   + ". Your Score: " + playerScore + ". " + "Computer Score: " + ++computerScore + ".";
         }
         else {
           return "It's a Tie! " + "Your Score: " + playerScore + ". " + "Computer Score: " + computerScore + ".";
         }
       }
       
       else if (playerSelection === 'scissors'){
        if(computerSelection === 'paper'){
          return "You Win! " + String(playerSelection.toUpperCase()) + " beats " + String(computerSelection.toUpperCase()) 
                  + ". Your Score: " + ++playerScore + ". " + "Computer Score: " + computerScore;
         } 
         if (computerSelection === 'rock'){
           return "You Lose! " + String(computerSelection.toUpperCase()) + " beats " + String(playerSelection.toUpperCase())
                   + ". Your Score: " + playerScore + ". " + "Computer Score: " + ++computerScore + ".";
         }
         else {
           return "It's a Tie! " + "Your Score: " + playerScore + ". " + "Computer Score: " + computerScore + ".";
         }
       }

       else {
        alert('You did not enter a valid choice. Try again.');
       }
    }
    
    //Function to notify winner
    function winnerNotify() {
      if (playerScore >=3) {
               return "YAY! You Defeated the Computer"
           } else if (computerScore >=3) {
               return "DRATS! You Lose :("
           }
    }
    
    //Function to run the game and loop until a player scores 3
    function game() {
      while (playerScore <3 && computerScore <3) {
           let computerSelection = computerPlay();
           let playerChoice = prompt("Rock Paper Scissors. First one to score 3 wins. What is your choice?");
           let playerSelection = playerChoice.toLowerCase();
           console.log (playRound(playerSelection, computerSelection));
           console.log (winnerNotify())
           
        }
    }
   
   game()
  </script>
</body>
</html>